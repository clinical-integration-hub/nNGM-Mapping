/// version = 0.1
/// title = "nNGM: nNGM_Mapping_AntragCTS - FHIR to CTS"

map "http://uk-koeln.de/fhir/StructureMap/nNGM_Mapping_AntragCTS" = nNGM_Mapping_AntragCTS

uses "http://hl7.org/fhir/StructureDefinition/Bundle" as source
uses "http://hl7.org/fhir/StructureDefinition/CTS_Transport" as target

imports "http://uk-koeln.de/fhir/StructureMap/nNGM_Mapping_BasisangabenCTS"
imports "http://uk-koeln.de/fhir/StructureMap/nNGM_Mapping_StammdatenCTS"
imports "http://uk-koeln.de/fhir/StructureMap/nNGM_Mapping_AnforderungCTS"
imports "http://uk-koeln.de/fhir/StructureMap/nNGM_Mapping_TNMCTS"
imports "http://uk-koeln.de/fhir/StructureMap/nNGM_Mapping_ResistenztestungCTS"

group MapAntragToCDS(source src: Bundle, target tgt: CTS_Transport)
{
    src -> tgt.operations as operations then TransformBasisangebenOperation(src, operations);
    src -> tgt.operations as operations then TransformStammdatenOperation(src, operations);
    src -> tgt.operations as operations then TransformAnforderungOperation(src, operations);
    src -> tgt.operations as operations then TransformTNMOperation(src, operations);
    src -> tgt.operations as operations then TransformResistenztestungOperation(src, operations);
}